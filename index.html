<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CANDrive.ma | Location Voiture Premium CAN 2025 Maroc</title>
  <meta name="description" content="Location de voitures premium pour la CAN 2025 au Maroc. -30% avec badge supporter. Livraison stade, Tesla, SUV, Réservation instantanée." />
  
  <!-- Open Graph -->
  <meta property="og:title" content="CANDrive.ma - Location Voiture CAN 2025" />
  <meta property="og:description" content="-30% avec badge. Livraison stade. Voitures premium." />
  <meta property="og:image" content="https://candrive.ma/og-image.jpg" />
  <meta property="og:url" content="https://candrive.ma" />
  <meta property="og:type" content="website" />

  <!-- Favicon & PWA -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0A5C36">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Libre+Baskerville:wght@700&display=swap" rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />

  <!-- AOS -->
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

  <!-- Theme Toggle -->
  <button id="themeToggle" class="theme-toggle" aria-label="Changer de thème">
    <i class="fas fa-moon"></i>
  </button>

  <!-- Language Switcher -->
  <div class="lang-switcher">
    <button id="langFR" class="active">FR</button>
    <button id="langEN">EN</button>
    <button id="langAR">AR</button>
  </div>

  <!-- Skip to content -->
  <a href="#main" class="skip-link">Aller au contenu</a>

  <!-- Header -->
  <header class="hero" id="home">
    <nav class="navbar container" aria-label="Navigation principale">
      <div class="logo">
        <h1><span>CAN</span>Drive</h1>
      </div>
      <ul class="nav-links">
        <li><a href="#home" data-tr="Accueil">Accueil</a></li>
        <li><a href="#fleet" data-tr="Flotte">Flotte</a></li>
        <li><a href="#stades" data-tr="Stades">Stades</a></li>
        <li><a href="#book" data-tr="Réserver">Réserver</a></li>
        <li><a href="#testimonials" data-tr="Avis">Avis</a></li>
        <li><a href="#contact" data-tr="Contact">Contact</a></li>
      </ul>
      <button class="mobile-menu" aria-label="Ouvrir le menu" aria-expanded="false">
        <i class="fas fa-bars"></i>
      </button>
    </nav>

    <div class="hero-content container" data-aos="fade-up">
      <h1 data-tr="Roulez en <span>Premium</span> pour la CAN 2025">Roulez en <span>Premium</span> pour la CAN 2025</h1>
      <p class="subtitle" data-tr="Véhicules neufs • GPS inclus • Assurance • Livraison stade">Véhicules neufs • GPS inclus • Assurance • Livraison stade</p>

      <!-- Compteur CAN 2025 -->
      <div class="countdown" data-aos="zoom-in">
        <div class="count-item"><span id="days">--</span><small data-tr="Jours">Jours</small></div>
        <div class="count-item"><span id="hours">--</span><small data-tr="Heures">Heures</small></div>
        <div class="count-item"><span id="mins">--</span><small data-tr="Min">Min</small></div>
        <div class="count-item"><span id="secs">--</span><small data-tr="Sec">Sec</small></div>
      </div>

      <div class="offer-tag">
        <i class="fas fa-ticket-alt"></i> <span data-tr="-30% avec badge supporter">-30% avec badge supporter</span>
      </div>

      <!-- Scanner Badge -->
      <div class="badge-scanner" data-aos="fade-up" data-aos-delay="300">
        <button id="scanBadge" class="btn-primary accent">
          <i class="fas fa-qrcode"></i> <span data-tr="Scanner mon badge CAN (-30%)">Scanner mon badge CAN (-30%)</span>
        </button>
        <p class="small" data-tr="Photo ou scan → réduction immédiate">Photo ou scan → réduction immédiate</p>
      </div>

      <!-- Recherche rapide -->
      <div class="search-bar">
        <input type="text" id="quickSearch" placeholder="SUV, Tesla, Casablanca..." aria-label="Recherche rapide" data-tr-placeholder="SUV, Tesla, Casablanca...">
      </div>

      <div class="hero-buttons">
        <a href="#fleet" class="btn-primary" data-tr="Voir la flotte">Voir la flotte</a>
        <a href="#book" class="btn-primary accent" data-tr="Réserver maintenant">Réserver maintenant</a>
      </div>

      <!-- Promo Flash -->
      <div class="flash-promo" id="flashPromo">
        <i class="fas fa-bolt"></i> <span data-tr="Offre Flash : Tesla Model 3 à 550 DH/jour !">Offre Flash : Tesla Model 3 à 550 DH/jour !</span>
        <button id="closeFlash">×</button>
      </div>
    </div>
  </header>

  <main id="main">

    <!-- Flotte -->
    <section id="fleet" class="fleet section">
      <div class="container">
        <h2 data-aos="fade-up" data-tr="Notre flotte premium">Notre flotte premium</h2>
        <p class="section-desc" data-aos="fade-up" data-aos-delay="100" data-tr="Modèles 2024/2025 • Entretien quotidien • Disponibilité garantie">
          Modèles 2024/2025 • Entretien quotidien • Disponibilité garantie
        </p>

        <!-- Filtres -->
        <div class="filters" data-aos="fade-up" data-aos-delay="200">
          <select id="carCategory" aria-label="Catégorie">
            <option value="">Toutes catégories</option>
            <option value="economique" data-tr="Économique">Économique</option>
            <option value="suv" data-tr="SUV">SUV</option>
            <option value="luxe" data-tr="Luxe">Luxe</option>
            <option value="electrique" data-tr="Électrique">Électrique</option>
          </select>

          <select id="transmission" aria-label="Transmission">
            <option value="">Transmission</option>
            <option value="manuelle" data-tr="Manuelle">Manuelle</option>
            <option value="auto" data-tr="Automatique">Automatique</option>
          </select>

          <div class="price-filter">
            <input type="range" id="priceRange" min="200" max="800" value="800" aria-label="Prix maximum">
            <span id="priceValue">800 DH max</span>
          </div>

          <button id="clearFilters" class="btn-clear" data-tr="Effacer">Effacer</button>
        </div>

        <!-- GRILLE DES VOITURES -->
        <div class="cars-grid" id="carsGrid"></div>

        <!-- Bouton "Voir plus" -->
        <div class="load-more" data-aos="fade-up">
          <button id="loadMore" class="btn-primary" data-tr="Charger plus de véhicules">Charger plus de véhicules</button>
        </div>
      </div>
    </section>

    <!-- Témoignages -->
    <section id="testimonials" class="testimonials section">
      <div class="container">
        <h2 data-aos="fade-up" data-tr="Ce que disent nos clients">Ce que disent nos clients</h2>
        <div class="testimonials-grid">
          <figure data-aos="fade-up" data-aos-delay="100">
            <blockquote data-tr='"Livraison au stade en 15 min, -30% avec badge. Parfait !"'>"Livraison au stade en 15 min, -30% avec badge. Parfait !"</blockquote>
            <figcaption>— <strong>Ahmed, Casablanca</strong></figcaption>
          </figure>
          <figure data-aos="fade-up" data-aos-delay="200">
            <blockquote data-tr='"Tesla Model 3 à Marrakech → expérience inoubliable."'>"Tesla Model 3 à Marrakech → expérience inoubliable."</blockquote>
            <figcaption>— <strong>Sara, Rabat</strong></figcaption>
          </figure>
          <figure data-aos="fade-up" data-aos-delay="300">
            <blockquote data-tr='"Prix transparents, siège bébé inclus. Recommandé !"'>"Prix transparents, siège bébé inclus. Recommandé !"</blockquote>
            <figcaption>— <strong>Karim, Tanger</strong></figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- Stades avec itinéraire -->
    <section id="stades" class="stades section">
      <div class="container">
        <h2 data-aos="fade-up" data-tr="Livraison directe aux stades">Livraison directe aux stades</h2>
        <p class="section-desc" data-aos="fade-up" data-aos-delay="100" data-tr="Retrait gratuit dans 6 villes • Livraison hôtel ou stade">
          Retrait gratuit dans 6 villes • Livraison hôtel ou stade
        </p>

        <div class="stadium-selector" data-aos="fade-up" data-aos-delay="200">
          <select id="stadiumSelect">
            <option value="casablanca">Stade Mohammed V - Casablanca</option>
            <option value="marrakech">Stade de Marrakech</option>
            <option value="rabat">Stade Prince Moulay Abdellah - Rabat</option>
          </select>
          <button id="showRoute" class="btn-primary accent">
            <i class="fas fa-route"></i> <span data-tr="Voir l'itinéraire">Voir l'itinéraire</span>
          </button>
        </div>

        <div class="map" id="mapContainer" data-aos="fade-up" data-aos-delay="300">
          <iframe id="stadiumMap" 
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d26548.456!2d-6.864!3d33.971!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzPCsDU4JzE0LjAiTiA2wrA1MSc5MC4wIlc!5e0!3m2!1sfr!2sma!4v1234567890"
            allowfullscreen="" loading="lazy">
          </iframe>
        </div>
      </div>
    </section>

    <!-- Réservation -->
    <section id="book" class="booking section">
      <div class="container">
        <h2 data-aos="fade-up" data-tr="Réservation en 60 secondes">Réservation en 60 secondes</h2>
        <form id="bookingForm" class="booking-form" novalidate data-aos="fade-up" data-aos-delay="100">
          <div class="form-group">
            <label for="selectedCar" data-tr="Voiture sélectionnée">Voiture sélectionnée</label>
            <input type="text" id="selectedCar" readonly placeholder="Cliquez sur une voiture" data-tr-placeholder="Cliquez sur une voiture">
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="startDate" data-tr="Date de début">Date de début</label>
              <input type="date" id="startDate" required>
            </div>
            <div class="form-group">
              <label for="endDate" data-tr="Date de fin">Date de fin</label>
              <input type="date" id="endDate" required>
            </div>
          </div>

          <div class="form-group">
            <label for="city" data-tr="Ville de retrait">Ville de retrait</label>
            <select id="city" required>
              <option value="">Choisir une ville</option>
              <option>Casablanca</option>
              <option>Rabat</option>
              <option>Marrakech</option>
              <option>Tanger</option>
              <option>Agadir</option>
              <option>Fès</option>
            </select>
          </div>

          <div class="addons">
            <label class="checkbox">
              <input type="checkbox" id="insurance"> <span data-tr="Assurance complète (+50 DH/jour)">Assurance complète (+50 DH/jour)</span>
            </label>
            <label class="checkbox">
              <input type="checkbox" id="babySeat"> <span data-tr="Siège bébé (+20 DH)">Siège bébé (+20 DH)</span>
            </label>
            <label class="checkbox">
              <input type="checkbox" id="badge"> <span data-tr="Badge CAN 2025 (-30%)">Badge CAN 2025 (-30%)</span>
            </label>
          </div>

          <div class="price-summary">
            <p data-tr="Prix total :"><span data-tr="Prix total :">Prix total :</span> <strong id="totalPrice">0 DH</strong></p>
            <p id="discountText" class="discount"></p>
            <p id="addonsText" class="addons"></p>
          </div>

          <button type="submit" class="btn-book" data-tr="Confirmer la réservation">
            <i class="fas fa-check"></i> Confirmer la réservation
          </button>
        </form>
        <p id="bookingConfirm" class="confirm-msg hidden" role="alert"></p>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="contact section">
      <div class="container">
        <h2 data-aos="fade-up" data-tr="Nous contacter">Nous contacter</h2>
        <p class="app-promo" data-tr="Téléchargez l'app mobile pour réserver en 1 clic !">Téléchargez l'app mobile pour réserver en 1 clic !</p>
        <form id="contactForm" novalidate data-aos="fade-up" data-aos-delay="100">
          <input type="text" placeholder="Nom complet" required aria-label="Nom" data-tr-placeholder="Nom complet">
          <input type="email" placeholder="Email" required aria-label="Email" data-tr-placeholder="Email">
          <textarea placeholder="Votre message" rows="4" required aria-label="Message" data-tr-placeholder="Votre message"></textarea>
          <button type="submit" class="btn-contact" data-tr="Envoyer">Envoyer</button>
        </form>
        <p id="contactMsg" class="confirm-msg hidden" role=" to="alert"></p>
      </div>
    </section>

  </main>

  <!-- Chatbot -->
  <div id="chatbot" class="chatbot" role="region" aria-label="Assistant CANBot">
    <div class="chat-header">
      <div class="chat-avatar">
        <i class="fas fa-robot"></i>
      </div>
      <div>
        <strong>CANBot IA</strong>
        <small data-tr="En ligne">En ligne</small>
      </div>
      <button class="chat-close" aria-label="Fermer le chat">×</button>
    </div>
    <div id="chatMessages" class="chat-messages"></div>
    <div class="quick-replies">
      <button class="quick-btn" onclick="sendQuick('SUV disponible ?')" data-tr="SUV ?">SUV ?</button>
      <button class="quick-btn" onclick="sendQuick('Tesla Casablanca')" data-tr="Tesla ?">Tesla ?</button>
      <button class="quick-btn" onclick="sendQuick('Badge -30%')" data-tr="Badge">Badge</button>
      <button class="quick-btn" onclick="sendQuick('Livraison stade')" data-tr="Stade">Stade</button>
    </div>
    <div class="chat-input-container">
      <input type="text" id="chatInput" placeholder="Posez votre question..." autocomplete="off" aria-label="Message" data-tr-placeholder="Posez votre question...">
      <button id="chatSend" aria-label="Envoyer">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>

  <button id="chatToggle" class="chat-toggle" aria-label="Ouvrir le chatbot">
    <i class="fas fa-robot"></i>
    <span class="chat-badge">IA</span>
  </button>

  <!-- PWA Install Button -->
  <button id="installBtn" class="install-btn" style="display:none;">
    <i class="fas fa-download"></i> <span data-tr="Installer l'app">Installer l'app</span>
  </button>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>